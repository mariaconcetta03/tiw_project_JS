<!DOCTYPE html>
<html lang="it">


<head>
    <meta charset="UTF-8">
    <title>Registrazione utente</title>
</head>


<body> <!--username, email, pw , ripeti pw-->
<FORM
        action = "RegistrationServlet"
        method = "post">
    <P>
        <b>Crea un nuovo username:</b><br>
          <i>Deve contenere al massimo 50 caratteri </i> <br>
        <INPUT type="text"  name = "username" maxlength="50" required>
    </P>
    <P>
        <b>Inserisci una tua e-mail:</b><br>
        <INPUT type="email"  name="email" required>
    </P>
    <P>
        <b>Inserisci una password:</b><br>
        <i>Deve contenere almeno 8 caratteri e al massimo 50, tra cui una maiuscola, una minuscola, un numero e un carattere speciale </i> <br>
        <!--   (?=.*\d) ALMENO UN NUMERO
               (?=.*[a-z]) ALMENO UNA MINUSCOLA
               (?=.*[A-Z]) ALMENO UNA MAIUSCOLA
               (?=.*[@#$%^&+=]) ALMENO UN CARATTERE SPECIALE
               {8,} MINIMO 8 CARATTERI -->
        <INPUT type="password" name = "password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!£-]).{8,50}" required>
    </P>
    <P>
        <b>Ripeti password:</b><br>
        <INPUT type="password" name = "password_conf" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!£-]).{8,50}" required>
    </P>
    <INPUT type = 'submit' VALUE = REGISTRATI>
        
        
        
    <!-- Messaggio di errore -->
    <div style="color: red;">
        <!-- Qui verrà visualizzato il messaggio di errore -->
        <p id="errorMessage"></p>
    </div>
    
	
    <script>
        // Estrae il parametro "error" dall'URL e, se presente, lo visualizza
        const params = new URLSearchParams(window.location.search); // prendo tutti i parametri dell'URL
        const errorMessage = params.get('error'); // prendo il parametro ERROR nell'url
        if (errorMessage) {
            document.getElementById('errorMessage').textContent = errorMessage; // setto il testo di "errorMessage in base a ciò che c'è nella query string
        }
    </script>
    
    
    
</FORM>
</body>
</html>